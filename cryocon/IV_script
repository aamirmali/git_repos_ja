#!/bin/bash

label='IV_set1'
#temps="0.172 0.171 0.170 0.169 0.168 0.167 0.166 0.165 0.164 0.163 0.162 0.161 0.160 0.159 0.158 0.157 0.156 0.155 0.154 0.153"
#temps="0.152 0.151 0.150 0.149 0.148 0.147 0.146 0.145 0.144 0.143 0.142 0.141 0.140 0.139 0.138 0.137 0.136 0.135 0.134 0.133 0.132 0.131 0.130 0.129 0.128 0.127 0.126"
temps="0.100 0.102 0.104 0.106 0.108 0.110 0.112 0.114 0.116 0.118 0.120 0.122 0.124 0.126 0.128 0.130 0.132 0.134 0.136 0.138 0.140 0.142 0.144 0.146 0.148 0.150 0.152 0.154 0.156 0.158 0.160 0.162 0.164 0.166 0.168 0.170 0.172 0.174 0.176 0.178 0.180 0.182 0.184 0.186 0.188 0.190 0.192 0.194 0.196 0.198 0.200"
#temps="0.100 0.102 0.104 0.106 0.108 0.110 0.112 0.114 0.116 0.118 0.120 0.122 0.124 0.126 0.128 0.130 0.132 0.134 0.136 0.138 0.140 0.142 0.144 0.146 0.148 0.150 0.152 0.154 0.156 0.158 0.160 0.162 0.164 0.166 0.168 0.170"
#temps="0.100 0.102 0.104 0.106 0.108 0.110 0.112 0.114 0.116 0.118 0.120 0.122 0.124 0.126 0.128 0.130 0.132 0.134 0.136 0.138 0.140 0.142 0.144 0.146 0.148 0.150 0.152 0.154"

start_bias=50000
step=-50
num_steps=1000

for temp in $temps
do
     python set_tempservo_param.py --servotemp $temp
     python daemon_servo_dirfile_v2.py start
     sleep 160
     ./change_to_MUX09
     filename_mux09=$label'_MUX09_'$temp
     ramp_tes_bias $filename_mux09 s $start_bias $step $num_steps 0.1 1 65000 1
     echo $filename_mux09
##     auto_setup
#     ./change_to_MUX11
#     filename_mux11=$label'_MUX11_'$temp
#     ramp_tes_bias $filename_mux11 s $start_bias $step $num_steps 0.1 1 65000 1
#     echo $filename_mux11
     sleep 1
     python daemon_servo_dirfile_v2.py stop
done
